{"version":3,"file":"fp.js","sources":["../src/HOF.ts","../src/utils.ts"],"sourcesContent":["type Fn = (...args: any[]) => any;\n\nexport const curryN = (n, fn) => (...args) => args.length >= n ? fn(...args) : curryN(n - args.length, fn.bind(null, ...args));\nexport const curry = (fn: Fn) => curryN(fn.length, fn);\nexport const demethodize = (fn: Fn) => (arg0, ...args) => fn.apply(arg0, args);\nexport const args = (fn: Fn) => (...args) => fn(args);\nexport const flip = (fn: Fn) => (...args) => fn(...args.reverse())\nexport const not = (fn: Fn) => (...args) => !fn(...args);\nexport const timer = (fn: Fn) => (...args) => {\n  const start = Date.now();\n  const result = fn(...args);\n  const end = Date.now();\n  console.log(`Time: ${end - start}ms`);\n  return result;\n};\n\nexport const logger = (fn: Fn) => (...args) => {\n  console.log(`Arguments: ${args}`);\n  const result = fn(...args);\n  console.log(`Result: ${result}`);\n  return result;\n};\n\nexport const memoize = (fn: Fn, stringify=JSON.stringify) => {\n  const cache = {};\n  return (...args) => {\n    const key = stringify(args)\n    let result = cache[key]\n    if (!result) {\n      result = fn(...args);\n      cache[key] = result;\n    }\n\n    return result;\n  }\n}","import { args, curry, curryN, demethodize, flip } from \"./HOF\";\n\nexport const binaryOp = (operator) => new Function('a', 'b', `return a ${operator} b`);\nexport const map = curryN(2, flip(demethodize(Array.prototype.map)));\nexport const stringify = JSON.stringify;\nexport const reduce = curryN(2, flip(demethodize(Array.prototype.reduce)));\nexport const compose = (...fns) => reduce((acc, fn) => fn(acc), fns);\nexport const pipe = flip(compose);\nexport const sum = (...args) => reduce((a,b)=> a + b, args);\nexport const substract = args(reduce(binaryOp('-')));\nexport const multiply = args(reduce(binaryOp('*')));\nexport const divide = args(reduce(binaryOp('/')));\nexport const getProp = curry((attr, obj) => obj[attr]);\nexport const avg = (...args) => sum(...args) / args.length;\n\nexport const toLocaleStringNumb = curry((lang: Intl.LocalesArgument, options: Intl.NumberFormatOptions, x: number) => x.toLocaleString(lang, options));\n\nexport const formatLocalNumber = toLocaleStringNumb(navigator.language, {});\n\ntype currency = 'USD' | 'EUR';\nexport const formatLocalCurrency = curry((currency, numb) => toLocaleStringNumb(navigator.language, {style: 'currency', currency}, numb));\n "],"names":["args"],"mappings":"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"}